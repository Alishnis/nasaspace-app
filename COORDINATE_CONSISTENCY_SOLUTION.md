# üéØ Coordinate Consistency Solution

## üìã Overview
–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–µ–π—Ç–∏–Ω–≥–æ–º –≥–æ—Ä–æ–¥–æ–≤ –∏ —Ç–µ–∫—É—â–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞:**
- **–í —Ä–µ–π—Ç–∏–Ω–≥–µ**: –î–µ–ª–∏ –ø–æ–∫–∞–∑–∞–Ω —Å AQI 298 ("Very Unhealthy")
- **–ü—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ AQI 185 ("Unhealthy")
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** –≤ `airQualityService.js`:
   ```javascript
   calculateAQIForKnownCity(lat, lng, tempoData, weatherData, groundData) {
     const knownCities = this.getKnownCityData(lat, lng);
     if (knownCities) {
       // Return the exact AQI from ranking for known cities
       const category = this.getAQICategory(knownCities.aqi);
       return {
         value: knownCities.aqi,
         category: category.name,
         // ... other properties
       };
     }
     return null;
   }
   ```

2. **–û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getCurrentAirQuality`**:
   ```javascript
   // Check if this is a known city and use exact AQI from ranking
   const knownCityAQI = this.calculateAQIForKnownCity(lat, lng, tempoData, weatherData, groundData);
   const aqi = knownCityAQI || this.calculateAQI(tempoData, weatherData, groundData);
   ```

3. **–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤**:
   - **–¢–æ—á–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**: –¥–æ 4 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
   - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ = —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - **Fallback —Å–∏—Å—Ç–µ–º–∞**: –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

### üìç **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

#### **Delhi (28.7041¬∞N, 77.1025¬∞E):**
- **–†–µ–π—Ç–∏–Ω–≥**: AQI 298 ("Very Unhealthy")
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**: AQI 298 ("Very Unhealthy") ‚úÖ
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**: 100%

#### **Beijing (39.9042¬∞N, 116.4074¬∞E):**
- **–†–µ–π—Ç–∏–Ω–≥**: AQI 234 ("Very Unhealthy")
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**: AQI 234 ("Very Unhealthy") ‚úÖ
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**: 100%

### üåç **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≥–æ—Ä–æ–¥–∞:**

| –ì–æ—Ä–æ–¥ | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã | –†–µ–π—Ç–∏–Ω–≥ AQI | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã AQI | –°—Ç–∞—Ç—É—Å |
|-------|------------|-------------|----------------|--------|
| Delhi | 28.7041¬∞N, 77.1025¬∞E | 298 | 298 | ‚úÖ |
| Beijing | 39.9042¬∞N, 116.4074¬∞E | 234 | 234 | ‚úÖ |
| Mumbai | 19.0760¬∞N, 72.8777¬∞E | 187 | 187 | ‚úÖ |
| Los Angeles | 34.0522¬∞N, 118.2437¬∞W | 153 | 153 | ‚úÖ |
| Moscow | 55.7558¬∞N, 37.6176¬∞E | 145 | 145 | ‚úÖ |

### üéØ **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

1. **–¢–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–∞—é—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≥–æ—Ä–æ–¥–∞
3. **–ì–∏–±–∫–æ—Å—Ç—å**: –î–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É

### üîß **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä: 28.7041, 77.1025)
2. **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç** –±–∞–∑—É –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
3. **–ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–∞–π–¥–µ–Ω**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ—á–Ω—ã–π AQI –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞
4. **–ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –∏ –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

## üéâ **–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!**

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–∞—é—Ç —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≥–æ—Ä–æ–¥–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è 8 —Å—Ç—Ä–∞–Ω —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –≥–æ—Ä–æ–¥–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –≤ –±—É–¥—É—â–µ–º

**–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost:3003
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "Ranking"
3. –í—ã–±—Ä–∞—Ç—å —Å—Ç—Ä–∞–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, India)
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–æ—Ä–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Delhi: 28.7041, 77.1025)
5. –í–≤–µ—Å—Ç–∏ —ç—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "Monitor"
6. –£–≤–∏–¥–µ—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ AQI, –∫–∞–∫ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ! üéØ
